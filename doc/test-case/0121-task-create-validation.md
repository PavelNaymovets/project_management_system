# 121: Проверка обязательных полей при создании задачи

|    Автор    |    Дата    | Средства тестирования | Результат |
|:-----------:|:----------:|:---------------------:|:---------:|
| Наумовец П. | 2023-06-14 |   Postman v10.14.9    |  Прошел   |

## Описание

При создании задачи должны проверяться обязательные атрибуты:

* id - уникальный идентификатор в таблице `обязательное поле`
* name - название `обязательное поле`
* project_id - ссылка на проект в котором поставлена задача `обязательное поле`
* labor_costs - трудозатраты `обязательное поле`
* dead_line - крайний срок выполнения `обязательное поле`
* status - статус (новая, в работе, выполнена, закрыта) `обязательное поле`
* author_id - ссылка на автора `обязательное поле`

При добавлении в базу данных, заполняются автоматически:
* id
* status
* author_id
* created_at
* updated_at

## Предусловия

Задачи с атрибутами:

* name - новая задача,
* description - описание новой задачи,
* laborCosts - 10,
* deadline - 2023-05-24,
* status - новая

,нет в базе данных. Пользователь авторизован в системе.

## Шаги в postman

* Зайти в коллекцию `projectMenegementSystem`
* Перейти в папку `Task`
* Выбрать запрос `CreateTask`
* Нажать `Send`

Выполнится HTTP запрос с методом `POST` на endpoint `http://localhost:8080/pms/api/v1/task`. Варианты тела запроса:

* Данные отсутствуют:

```
{
}
```

* Не указано поле `name`:

```
{
    "project": {
        "id": 1
    },
    "description": "Описание новой задачи",
    "laborCosts": "10",
    "deadline": "2023-05-24"
}
```

* Не указано поле `project`:

```
{
    "name": "Новая задача",
    "description": "Описание новой задачи",
    "laborCosts": "10",
    "deadline": "2023-05-24"
}
```

* Не указано поле `laborCosts`:

```
{
    "name": "Новая задача",
    "project": {
        "id": 1
    },
    "description": "Описание новой задачи",
    "deadline": "2023-05-24"
}
```

* Не указано поле `deadline`:

```
{
    "name": "Новая задача",
    "project": {
        "id": 1
    },
    "description": "Описание новой задачи",
    "laborCosts": "10"
}
```

## Ожидаемый результат

Вернется ответ со статус кодом `400` и с сообщением о том, что данные отсутствуют.

## Фактический результат

* Данные отсутствуют:

```
{
    "statusCode": 400,
    "message": "Field name not filled.,Field laborCost not filled.,Field deadline not filled.,Field project not filled."
}
```

* Не указано поле `name`:

```
{
    "statusCode": 400,
    "message": "Field name not filled."
}
```

* Не указано поле `project`:

```
{
    "statusCode": 400,
    "message": "Field project not filled."
}
```

* Не указано поле `laborCosts`:

```
{
    "statusCode": 400,
    "message": "Field laborCosts not filled."
}
```

* Не указано поле `deadline`:

```
{
    "statusCode": 400,
    "message": "Field deadline not filled."
}
```